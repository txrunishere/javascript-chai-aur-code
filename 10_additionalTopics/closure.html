<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Closure in JS</title>
  </head>
  <body style="background-color: #212121; color: #fff">
    <button id="blue">Blue</button>
    <button id="orange">Orange</button>
  </body>

  <script>
    // Lexical Scoping
    // function outerFunc() {
    //   let myName = "Tarun";
    //   // console.log(myName);

    //   function innerFunc() {
    //     let secret = "I am a BCA student";
    //     console.log("Inside the outerFunc", myName);
    //   }
    //   function innerFuncTwo() {
    //     console.log("Inside the outerFuncTwo", myName);
    //     // console.log(secret); // We can't access secret here because myName is a variable comes from parent function but here these two functions are different here.
    //   }
    //   // innerFunc();
    //   // innerFuncTwo();
    // }
    // outerFunc();
    // // console.log(myName); // gives error because scope of outerFunc was end on line 19

    // // function init() {
    // //   const name = "Bhalu Singh"; // name is a local variable created by init
    // //   function displayName() {
    // //     // displayName() is the inner function, that forms a closure
    // //     console.log(name); // use variable declared in the parent function
    // //   }
    // //   displayName();
    // // }
    // // init();
  </script>
  <script>

    // Closure

    function makeFunc() {
      const name = "Mozilla";
      function displayName() {
        console.log(name);
      }
      return displayName;
    }

    const myFunc = makeFunc();
    myFunc();

    // Real World Example

    // document.getElementById("orange").onclick = function(){
        //     document.body.style.backgroundColor = `orange`
        // }
        // document.getElementById("blue").onclick = function(){
        //     document.body.style.backgroundColor = `blue`
        // }

        function clickHandler(color){
            // document.body.style.backgroundColor = `${color}`

            return function(){
                document.body.style.backgroundColor = `${color}`
            }
        }

        document.getElementById('orange').onclick = clickHandler("orange")
        document.getElementById('blue').onclick = clickHandler("blue")


  </script>
</html>
